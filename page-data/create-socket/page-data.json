{"componentChunkName":"component---src-templates-blog-post-js","path":"/create-socket/","result":{"data":{"site":{"siteMetadata":{"title":"아자아자 나현이 화이팅"}},"markdownRemark":{"id":"1becfdec-274d-5e5e-93ff-da61d4bc6d35","excerpt":"…","html":"<p>클라이언트와 서버의 통신 흐름은 다음과 같다.</p>\n<ol>\n<li><strong>소켓을 생성한다.</strong></li>\n<li><strong>서버에 접속한다.</strong></li>\n<li><strong>데이터를 송수신한다.</strong></li>\n<li><strong>연결을 끊고 소켓을 말소한다.</strong></li>\n</ol>\n<p>이 포스트에서는 <strong>소켓 생성</strong>과 <strong>서버 접속</strong>에 대해 다룰 예정이다.</p>\n<h3>소켓을 생성한다.</h3>\n<h4>소켓</h4>\n<p><strong>소켓</strong>은 네트워크 통신의 끝점을 나타내는 추상적인 개념이다.<br/>\n소켓에는 IP 주소, 포트 번호, 연결 상태 정보 등의 제어 정보가 포함되어 있으며, 이 정보들이 소켓의 실체라고 볼 수 있다.</p>\n<p><strong>\"소켓을 만든다.\"</strong> 라는 말은 간단히 말하자면 <strong>socket()</strong> 함수를 호출한다는 의미이다.<br/>\n더 자세히는 소켓을 위한 데이터 구조를 생성하고 필요한 메모리를 할당하는 행위라고 말할 수 있다.</p>\n<p>socket() 함수를 호출하면 네트워크 스택은 애플리케이션에게 <strong>디스크립터</strong>를 반환하게 되는데, <br/>\n디스크립터는 각 소켓을 식별하기 위한 번호표같은 정보이다. <br/>\n애플리케이션은 추후에 디스크립터를 통해 데이터 송수신과 같은 작업을 수행한다.</p>\n<h3>서버에 접속한다.</h3>\n<p><strong>\"서버에 접속한다.\"</strong> 라는 말은 애플리케이션이 <strong>connect()</strong> 함수를 호출한다는 말과 같다.<br/>\n함수의 인자로 디스크립터, IP 주소, 포트 번호 등을 서버에게 넘겨주고<br/>\n성공값을 반환받으면 클라이언트와 서버간의 연결이 정상적으로 완료된 것이다.<br/></p>\n<p>위 과정을 조금 더 자세히 설명하기 위해 TCP 헤더에 대해 알아볼 필요가 있다.</p>\n<h4>TCP 헤더</h4>\n<p>클라이언트와 서버는 패킷 단위로 데이터를 주고 받는데, 모든 패킷에는 TCP 헤더 정보가 포함이 되어있다. <br/>\nTCP 헤더를 통해 데이터 전송을 관리하고 데이터의 순서를 보장하는 등 TCP의 안정적인 통신을 위해 중요한 역할을 수행한다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"mathematica\"><pre class=\"language-mathematica\"><code class=\"language-mathematica\">   <span class=\"token number\">0</span>                   <span class=\"token number\">1</span>                   <span class=\"token number\">2</span>                   <span class=\"token number\">3</span>\n   <span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span> <span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span> <span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span> <span class=\"token number\">0</span> <span class=\"token number\">1</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>          Source Port          <span class=\"token operator\">|</span>       Destination Port        <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>                        Sequence Number                        <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>                    Acknowledgment Number                      <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>  Data  <span class=\"token operator\">|</span>Rese<span class=\"token operator\">-</span><span class=\"token operator\">|</span>     Flags      <span class=\"token operator\">|</span>            Window             <span class=\"token operator\">|</span>\n  <span class=\"token operator\">|</span> Offset <span class=\"token operator\">|</span> rved<span class=\"token operator\">|</span>                 <span class=\"token operator\">|</span>            Size              <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>           Checksum            <span class=\"token operator\">|</span>        Urgent Pointer         <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>                    Options <span class=\"token punctuation\">(</span>if any<span class=\"token punctuation\">)</span>                           <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n  <span class=\"token operator\">|</span>                    Padding <span class=\"token punctuation\">(</span>if any<span class=\"token punctuation\">)</span>                           <span class=\"token operator\">|</span>\n  <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span>\n</code></pre></div>\n<p>TCP 헤더를 구성하는 필드들은 아래와 같다.</p>\n<ol>\n<li><strong>Source Port(16비트)</strong>: 출발지 포트 번호</li>\n<li><strong>Destination Port(16비트)</strong>: 목적지 포트 번호</li>\n<li><strong>Sequence Number(32비트)</strong>: 해당 패킷의 데이터가 송신 데이터의 몇 번째 바이트에 해당하는지 나타내는 번호</li>\n<li><strong>Acknowledgment Number(32비트)</strong>: 데이터가 몇 바이트까지 목적지에 도착했는지 나타내는 번호</li>\n<li><strong>Data Offset(4비트)</strong>: TCP 헤더의 길이</li>\n<li><strong>Reserved(3비트)</strong>: 예약 번호. (사용하지 않음)</li>\n<li><strong>Flags(9비트)</strong>: 컨트롤 비트. 각 비트가 특정 제어 정보를 나타냄.\n<ul>\n<li>URG (Urgent): 긴급 포인터 필드의 값이 유효함을 나타냄</li>\n<li>ACK (Acknowledgment): 확인 응답 번호 필드의 값이 유효함을 나타냄</li>\n<li>PSH (Push): flush 동작을 통해 송신된 데이터임을 나타냄</li>\n<li>RST (Reset): 연결을 재설정함</li>\n<li>SYN (Synchronize): 연결 설정을 시작</li>\n<li>FIN (Finish): 연결 종료를 요청</li>\n</ul>\n</li>\n<li><strong>Window Size(16비트)</strong>: 수신자가 한 번에 받을 수 있는 데이터의 양</li>\n<li><strong>Checksum(16비트)</strong>: 오류 검출을 위한 값</li>\n<li><strong>Urgent Pointer(16비트)</strong>: 긴급하게 처리해야 할 데이터의 위치를 나타냄</li>\n<li><strong>Option</strong>: 다양한 TCP 옵션을 포함할 수 있으며 가변길이임</li>\n<li><strong>Padding</strong>: TCP 헤더의 길이를 32비트 단위로 맞추기 위해 사용되는 필드로 가변길이임</li>\n</ol>\n<p>TCP 헤더에 대해 설명했으니 서버 접속에 대해 마저 얘기해보자.<br/>\nconnect 함수가 호출되면 해당 명령은 네트워크 스택으로 전달된다.<br/>\n그리곤 서버와 연결을 위한 제어 정보를 서로 주고 받는데, 이 과정을 <strong>3-way handshake</strong>라고 한다.</p>\n<h4>3-way handshake</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">클라이언트                                                서버\n   |                                                    |\n   |------  SYN (Source Port, Destination Port) ------> |\n   |                                                    |\n   |&lt;--- SYN=1, ACK=1 (Source Port, Destination Port)---|\n   |                                                    |\n   |------  ACK (Source Port, Destination Port) ------> |\n   |                                                    |\n</code></pre></div>\n<p>우선 네트워크 스택은 제어 정보를 기록한 헤더를 만든다.<br/>\n출발지와 목적지의 포트 번호를 설정하고 컨트롤 비트의 <strong>SYN 비트를 1로 설정한다</strong>.<br/>\n그리고 IP 담당 부분에 건네면 패킷 송신 동작이 실행된다. <br/></p>\n<p>서버가 패킷을 받으면 도착지 포트 번호에 기록된 것과 같은 포트 번호를 찾는다. <br/>\n서버는 <strong>ACK 비트와 SYN 비트를 1로 설정</strong>히고 클라이언트에게 전송한다. <br/></p>\n<p>클라이언트는 SYN 비트가 1임을 확인하고 소켓에 접속 완료를 표시한다.<br/>\n그리고 패킷이 정상적으로 도착했다는 것을 서버에게 알리기 위해 <strong>ACK 비트를 1로 설정</strong>한 헤더를 서버에게 보낸다. <br/></p>\n<p>이제 클라이언트와 서버의 소켓은 데이터를 송수신 할 수 있는 상태가 되었다.<br/>\n이 연결은 close 함수를 호출하여 연결을 끊기 전까지 유효하다.<br/></p>","frontmatter":{"title":"소켓을 생성하고 서버에 연결하기","date":"July 15, 2024","description":"클라이언트-서버 통신의 흐름 - 1"}},"previous":{"fields":{"slug":"/network-communication-process/"},"frontmatter":{"title":"네트워크 통신 흐름 간단히 이해하기"}},"next":null},"pageContext":{"id":"1becfdec-274d-5e5e-93ff-da61d4bc6d35","previousPostId":"5ce9024b-915d-557d-a296-96a7c921a7bb","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}